-- ============================= CREACION DEL ESQUEMA DE LA BASE DE DATOS ====================
DROP DATABASE IF EXISTS `PMARLEN_DB_TEST`;
CREATE DATABASE `PMARLEN_DB_TEST`;
USE `PMARLEN_DB_TEST`;
-- ============================= TABLES (42) =======================
CREATE TABLE `FORMA_DE_PAGO` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`DESCRIPCION`		VARCHAR	 (255)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PERFIL` (
	`ID`		VARCHAR	 (16)	 NOT NULL ,
	`DESCRIPCION`		VARCHAR	 (255)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `POBLACION` (
	`ID`		INTEGER	 (6)	 NOT NULL ,
	`NOMBRE`		VARCHAR	 (128)	 NOT NULL ,
	`TIPO_ASENTAMIENTO`		VARCHAR	 (64)	 ,
	`MUNICIPIO_O_DELEGACION`		VARCHAR	 (128)	 NOT NULL ,
	`ENTIDAD_FEDERATIVA`		VARCHAR	 (128)	 NOT NULL ,
	`CODIGO_POSTAL`		VARCHAR	 (6)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `EMPRESA` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`NOMBRE`		VARCHAR	 (255)	 NOT NULL ,
	`NOMBRE_FISCAL`		VARCHAR	 (255)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `MULTIMEDIO` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`CONTENIDO`		MEDIUMBLOB		 NOT NULL ,
	`MIME_TYPE`		VARCHAR	 (64)	 NOT NULL ,
	`NOMBRE_ARCHIVO`		VARCHAR	 (255)	 ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `BANCO` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`NOMBRE`		VARCHAR	 (32)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `LINEA` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`NOMBRE`		VARCHAR	 (255)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `ESTADO` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`DESCRIPCION`		VARCHAR	 (255)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `USUARIO` (
	`USUARIO_ID`		VARCHAR	 (16)	 NOT NULL ,
	`HABILITADO`		INTEGER	 (1)	 NOT NULL ,
	`NOMBRE_COMPLETO`		VARCHAR	 (128)	 NOT NULL ,
	`PASSWORD`		VARCHAR	 (64)	 NOT NULL ,
	`EMAIL`		VARCHAR	 (64)	 ,
	`FACTOR_COMISION_VENTA`		DOUBLE		 ,
	PRIMARY KEY (`USUARIO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `TIPO_MOVIMIENTO` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`DESCRIPCION`		VARCHAR	 (64)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `MARCA_MULTIMEDIO` (
	`MARCA_ID`		INTEGER	 (10)	 NOT NULL ,
	`MULTIMEDIO_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`MARCA_ID`, `MULTIMEDIO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PRODUCTO` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`MARCA_ID`		INTEGER	 (10)	 NOT NULL ,
	`NOMBRE`		VARCHAR	 (255)	 NOT NULL ,
	`PRESENTACION`		VARCHAR	 (255)	 NOT NULL ,
	`CONTENIDO`		INTEGER	 (10)	 NOT NULL ,
	`UNIDADES_POR_CAJA`		INTEGER	 (10)	 NOT NULL ,
	`FACTOR_MAX_DESC`		DOUBLE		 NOT NULL ,
	`COSTO`		DOUBLE		 NOT NULL ,
	`FACTOR_PRECIO`		DOUBLE		 NOT NULL ,
	`PRECIO_BASE`		DOUBLE		 NOT NULL ,
	`UNIDAD_MEDIDA`		VARCHAR	 (8)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `CODIGO_DE_BARRAS` (
	`CODIGO`		VARCHAR	 (255)	 NOT NULL ,
	`PRODUCTO_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`CODIGO`, `PRODUCTO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `FACTURA_PROVEEDOR` (
	`ID`		INTEGER	 (10)	 NOT NULL ,
	`FOLIO`		VARCHAR	 (64)	 NOT NULL ,
	`PEDIDO_COMPRA_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `CUENTA_BANCARIA` (
	`ID`		VARCHAR	 (16)	 NOT NULL ,
	`BANCO_ID`		INTEGER	 (10)	 NOT NULL ,
	`CLABE`		VARCHAR	 (18)	 NOT NULL ,
	`SUCURSAL`		VARCHAR	 (16)	 ,
	`REFERECIA`		VARCHAR	 (64)	 ,
	`BENEFICIARIO`		VARCHAR	 (64)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `CLIENTE_CONTACTO` (
	`CLIENTE_ID`		INTEGER	 (10)	 NOT NULL ,
	`CONTACTO_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`CLIENTE_ID`, `CONTACTO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PEDIDO_VENTA_ESTADO` (
	`PEDIDO_VENTA_ID`		INTEGER	 (10)	 NOT NULL ,
	`ESTADO_ID`		INTEGER	 (10)	 NOT NULL ,
	`FECHA`		TIMESTAMP		 NOT NULL ,
	`USUARIO_MODIFICO`		VARCHAR	 (16)	 NOT NULL ,
	`COMENTARIOS`		VARCHAR	 (255)	 ,
	PRIMARY KEY (`PEDIDO_VENTA_ID`, `ESTADO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PEDIDO_VENTA` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`CLIENTE_ID`		INTEGER	 (10)	 NOT NULL ,
	`FORMA_DE_PAGO_ID`		INTEGER	 (10)	 NOT NULL ,
	`USUARIO_ID`		VARCHAR	 (16)	 NOT NULL ,
	`ES_FISCAL`		INTEGER	 (1)	 NOT NULL ,
	`COMENTARIOS`		VARCHAR	 (255)	 ,
	`FACTORIVA`		DOUBLE		 ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `MARCA` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`LINEA_ID`		INTEGER	 (10)	 NOT NULL ,
	`EMPRESA_ID`		INTEGER	 (10)	 NOT NULL ,
	`NOMBRE`		VARCHAR	 (64)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `ESTADO_DE_CUENTA_CLIENTES` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`ES_FISCAL`		INTEGER	 (1)	 NOT NULL ,
	`FECHA`		TIMESTAMP		 NOT NULL ,
	`IMPORTE`		DOUBLE		 NOT NULL ,
	`MES_CONTABLE`		INTEGER	 (6)	 ,
	`TIPO_MOVIMIENTO_ID`		INTEGER	 (10)	 NOT NULL ,
	`FACTURA_CLIENTE_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `ALMACEN` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`ES_FISCAL`		INTEGER	 (1)	 NOT NULL ,
	`NOMBRE`		VARCHAR	 (64)	 NOT NULL ,
	`CALLE`		VARCHAR	 (64)	 NOT NULL ,
	`NUM_INTERIOR`		VARCHAR	 (16)	 NOT NULL ,
	`NUM_EXTERIOR`		VARCHAR	 (16)	 NOT NULL ,
	`POBLACION_ID`		INTEGER	 (6)	 NOT NULL ,
	`TELEFONOS`		VARCHAR	 (128)	 ,
	`COMENTARIOS`		VARCHAR	 (255)	 ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `CLIENTE_CUENTA_BANCARIA` (
	`CLIENTE_ID`		INTEGER	 (10)	 NOT NULL ,
	`CUENTA_BANCARIA_ID`		VARCHAR	 (16)	 NOT NULL ,
	PRIMARY KEY (`CLIENTE_ID`, `CUENTA_BANCARIA_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PEDIDO_VENTA_DETALLE` (
	`PEDIDO_VENTA_ID`		INTEGER	 (10)	 NOT NULL ,
	`PRODUCTO_ID`		INTEGER	 (10)	 NOT NULL ,
	`CANTIDAD`		INTEGER	 (10)	 NOT NULL ,
	`PRECIO_BASE`		DOUBLE		 NOT NULL ,
	`DESCUENTO_APLICADO`		DOUBLE		 NOT NULL ,
	PRIMARY KEY (`PEDIDO_VENTA_ID`, `PRODUCTO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PEDIDO_COMPRA_DETALLE` (
	`PEDIDO_COMPRA_ID`		INTEGER	 (10)	 NOT NULL ,
	`PRODUCTO_ID`		INTEGER	 (10)	 NOT NULL ,
	`CANTIDAD`		INTEGER	 (10)	 NOT NULL ,
	`PRECIO_BASE`		DOUBLE		 NOT NULL ,
	`DESCUENTO_APLICADO`		DOUBLE		 NOT NULL ,
	PRIMARY KEY (`PEDIDO_COMPRA_ID`, `PRODUCTO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `LINEA_MULTIMEDIO` (
	`LINEA_ID`		INTEGER	 (10)	 NOT NULL ,
	`MULTIMEDIO_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`LINEA_ID`, `MULTIMEDIO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PRODUCTO_MULTIMEDIO` (
	`PRODUCTO_ID`		INTEGER	 (10)	 NOT NULL ,
	`MULTIMEDIO_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`PRODUCTO_ID`, `MULTIMEDIO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `MENSAJES_PARA_PORTAL` (
	`FECHA`		TIMESTAMP		 NOT NULL ,
	`USUARIOUSUARIO_ID`		VARCHAR	 (16)	 NOT NULL ,
	`TITULO`		VARCHAR	 (255)	 NOT NULL ,
	`CONTENIDO_MENSAJE`		VARCHAR	 (1024)	 NOT NULL ,
	`FUENTE`		VARCHAR	 (128)	 NOT NULL ,
	PRIMARY KEY (`FECHA`, `USUARIOUSUARIO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `USUARIO_PERFIL` (
	`USUARIO_ID`		VARCHAR	 (16)	 NOT NULL ,
	`PERFIL_ID`		VARCHAR	 (16)	 NOT NULL ,
	PRIMARY KEY (`USUARIO_ID`, `PERFIL_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PROVEEDOR_CONTACTO` (
	`PROVEEDOR_ID`		INTEGER	 (10)	 NOT NULL ,
	`CONTACTO_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`PROVEEDOR_ID`, `CONTACTO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PROVEEDOR_PRODUCTO` (
	`PROVEEDOR_ID`		INTEGER	 (10)	 NOT NULL ,
	`PRODUCTO_ID`		INTEGER	 (10)	 NOT NULL ,
	`PRECIO_COMPRA`		DOUBLE		 NOT NULL ,
	`FACTOR_DESC_1`		NUMERIC		 NOT NULL ,
	`FACTOR_DESC_2`		NUMERIC		 ,
	`FACTOR_DESC_3`		NUMERIC		 ,
	`FACTOR_DESC_4`		NUMERIC		 ,
	`FACTOR_DESC_5`		NUMERIC		 ,
	PRIMARY KEY (`PROVEEDOR_ID`, `PRODUCTO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PEDIDO_COMPRA` (
	`ID`		INTEGER	 (10)	 NOT NULL ,
	`PROVEEDOR_ID`		INTEGER	 (10)	 NOT NULL ,
	`FORMA_DE_PAGO_ID`		INTEGER	 (10)	 NOT NULL ,
	`USUARIO_ID`		VARCHAR	 (16)	 NOT NULL ,
	`ES_FISCAL`		INTEGER	 (1)	 NOT NULL ,
	`CAOMENTARIOS`		VARCHAR	 (255)	 ,
	`FACTORIVA`		DOUBLE		 ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `ALMACEN_PRODUCTO` (
	`ALMACEN_ID`		INTEGER	 (10)	 NOT NULL ,
	`PRODUCTO_ID`		INTEGER	 (10)	 NOT NULL ,
	`CANTIDAD_ACTUAL`		INTEGER	 (15)	 NOT NULL ,
	`CANTIDAD_MINIMA`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`ALMACEN_ID`, `PRODUCTO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `ESTADO_DE_CUENTA_PROVEEDORES` (
	`ID`		INTEGER	 (10)	 NOT NULL ,
	`ES_FISCAL`		INTEGER	 (1)	 NOT NULL ,
	`FECHA`		TIMESTAMP		 NOT NULL ,
	`IMPORTE`		DOUBLE		 NOT NULL ,
	`MES_CONTABLE`		INTEGER	 (6)	 ,
	`FACTURA_PROVEEDOR_ID`		INTEGER	 (10)	 NOT NULL ,
	`TIPO_MOVIMIENTO_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `CONTACTO` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`FECHA_CREACION`		TIMESTAMP		 NOT NULL ,
	`NOMBRE`		VARCHAR	 (128)	 NOT NULL ,
	`EMAIL`		VARCHAR	 (128)	 ,
	`TELEFONOS`		VARCHAR	 (128)	 ,
	`DIRECCION`		VARCHAR	 (255)	 ,
	`POBLACION_ID`		INTEGER	 (6)	 ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PROVEEDOR_CUENTA_BANCARIA` (
	`PROVEEDOR_ID`		INTEGER	 (10)	 NOT NULL ,
	`CUENTA_BANCARIA_ID`		VARCHAR	 (16)	 NOT NULL ,
	PRIMARY KEY (`PROVEEDOR_ID`, `CUENTA_BANCARIA_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `EMPRESA_MULTIMEDIO` (
	`EMPRESA_ID`		INTEGER	 (10)	 NOT NULL ,
	`MULTIMEDIO_ID`		INTEGER	 (10)	 NOT NULL ,
	PRIMARY KEY (`EMPRESA_ID`, `MULTIMEDIO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PEDIDO_COMPRA_ESTADO` (
	`PEDIDO_COMPRA_ID`		INTEGER	 (10)	 NOT NULL ,
	`ESTADO_ID`		INTEGER	 (10)	 NOT NULL ,
	`USUARIO_MODIFICO`		VARCHAR	 (16)	 NOT NULL ,
	`COMENTARIOS`		VARCHAR	 (255)	 ,
	PRIMARY KEY (`PEDIDO_COMPRA_ID`, `ESTADO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `FACTURA_CLIENTE` (
	`ID`		INTEGER	 (10)	 NOT NULL ,
	`PEDIDO_VENTA_ID`		INTEGER	 (10)	 NOT NULL ,
	`NOTA_DE_CREDITO`		INTEGER	 (1)	 NOT NULL ,
	`FECHA_EMISION`		TIMESTAMP		 ,
	`FOLIO`		INTEGER	 (5)	 ,
	`SERIE`		VARCHAR	 (5)	 ,
	`CADENA_ORIGINAL`		VARCHAR	 (5120)	 ,
	`FECHA_TIMBRADO_SAT`		TIMESTAMP		 ,
	`FOLIO_FISCAL`		VARCHAR	 (36)	 ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `CLIENTE` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`CLASIFICACION_FISCAL`		INTEGER	 (1)	 NOT NULL ,
	`RFC`		VARCHAR	 (16)	 NOT NULL ,
	`FECHA_CREACION`		TIMESTAMP		 NOT NULL ,
	`RAZON_SOCIAL`		VARCHAR	 (255)	 NOT NULL ,
	`NOMBRE_ESTABLECIMIENTO`		VARCHAR	 (255)	 ,
	`CALLE`		VARCHAR	 (255)	 NOT NULL ,
	`NUM_INTERIOR`		VARCHAR	 (128)	 ,
	`NUM_EXTERIOR`		VARCHAR	 (128)	 ,
	`POBLACION_ID`		INTEGER	 (6)	 NOT NULL ,
	`TELEFONOS`		VARCHAR	 (255)	 ,
	`FAXES`		VARCHAR	 (255)	 ,
	`TELEFONOS_MOVILES`		VARCHAR	 (255)	 ,
	`EMAIL`		VARCHAR	 (255)	 ,
	`PLAZO_DE_PAGO`		INTEGER	 (3)	 ,
	`URL`		VARCHAR	 (255)	 ,
	`OBSERVACIONES`		VARCHAR	 (255)	 ,
	`DESCRIPCION_RUTA`		VARCHAR	 (255)	 ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `MOVIMIENTO_HISTORICO_PRODUCTO` (
	`ALMACEN_ID`		INTEGER	 (10)	 NOT NULL ,
	`PRODUCTO_ID`		INTEGER	 (10)	 NOT NULL ,
	`FECHA`		TIMESTAMP		 NOT NULL ,
	`TIPO_MOVIMIENTO_ID`		INTEGER	 (10)	 NOT NULL ,
	`CANTIDAD`		INTEGER	 (10)	 NOT NULL ,
	`COSTO`		DOUBLE		 ,
	`PRECIO`		DOUBLE		 ,
	`USUARIO_ID`		VARCHAR	 (16)	 NOT NULL ,
	PRIMARY KEY (`ALMACEN_ID`, `PRODUCTO_ID`, `FECHA`, `TIPO_MOVIMIENTO_ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `ESTADO_DE_CUENTA` (
	`ID`		INTEGER	 (19)	 NOT NULL ,
	`ES_FISCAL`		INTEGER	 (1)	 NOT NULL ,
	`FECHA`		TIMESTAMP		 NOT NULL ,
	`EGRESO`		INTEGER	 (10)	 ,
	`INGRESO`		INTEGER	 (10)	 ,
	`IMPORTE`		DOUBLE		 NOT NULL ,
	`CONCEPTO`		VARCHAR	 (64)	 ,
	`USUARIO_ID`		VARCHAR	 (16)	 NOT NULL ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
CREATE TABLE `PROVEEDOR` (
	`ID`		INTEGER	 (10)	 NOT NULL AUTO_INCREMENT ,
	`CLASIFICACION_FISCAL`		INTEGER	 (1)	 NOT NULL ,
	`RFC`		VARCHAR	 (13)	 NOT NULL ,
	`FECHA_CREACION`		TIMESTAMP		 NOT NULL ,
	`RAZON_SOCIAL`		VARCHAR	 (255)	 NOT NULL ,
	`CALLE`		VARCHAR	 (64)	 NOT NULL ,
	`NUM_INTERIOR`		VARCHAR	 (16)	 ,
	`NUM_EXTERIOR`		VARCHAR	 (16)	 ,
	`POBLACION_ID`		INTEGER	 (6)	 NOT NULL ,
	`TELEFONOS`		VARCHAR	 (128)	 ,
	`TELEFONOS_MOVILES`		VARCHAR	 (255)	 ,
	`FAXES`		VARCHAR	 (255)	 ,
	`EMAIL`		VARCHAR	 (128)	 ,
	`PLAZO_DE_PAGO`		INTEGER	 (3)	 ,
	`URL`		VARCHAR	 (255)	 ,
	`OBSERVACIONES`		VARCHAR	 (512)	 ,
	PRIMARY KEY (`ID`)
)ENGINE=InnoDB;

-- ===============================================================================
-- =================================== CONSTRAINTS ==============================
ALTER TABLE `MARCA_MULTIMEDIO` ADD CONSTRAINT FOREIGN KEY (`MARCA_ID`)	REFERENCES `MARCA`(`ID`);
ALTER TABLE `MARCA_MULTIMEDIO` ADD CONSTRAINT FOREIGN KEY (`MULTIMEDIO_ID`)	REFERENCES `MULTIMEDIO`(`ID`);
ALTER TABLE `PRODUCTO` ADD CONSTRAINT FOREIGN KEY (`MARCA_ID`)	REFERENCES `MARCA`(`ID`);
ALTER TABLE `CODIGO_DE_BARRAS` ADD CONSTRAINT FOREIGN KEY (`PRODUCTO_ID`)	REFERENCES `PRODUCTO`(`ID`);
ALTER TABLE `FACTURA_PROVEEDOR` ADD CONSTRAINT FOREIGN KEY (`PEDIDO_COMPRA_ID`)	REFERENCES `PEDIDO_COMPRA`(`ID`);
ALTER TABLE `CUENTA_BANCARIA` ADD CONSTRAINT FOREIGN KEY (`BANCO_ID`)	REFERENCES `BANCO`(`ID`);
ALTER TABLE `CLIENTE_CONTACTO` ADD CONSTRAINT FOREIGN KEY (`CLIENTE_ID`)	REFERENCES `CLIENTE`(`ID`);
ALTER TABLE `CLIENTE_CONTACTO` ADD CONSTRAINT FOREIGN KEY (`CONTACTO_ID`)	REFERENCES `CONTACTO`(`ID`);
ALTER TABLE `PEDIDO_VENTA_ESTADO` ADD CONSTRAINT FOREIGN KEY (`PEDIDO_VENTA_ID`)	REFERENCES `PEDIDO_VENTA`(`ID`);
ALTER TABLE `PEDIDO_VENTA_ESTADO` ADD CONSTRAINT FOREIGN KEY (`ESTADO_ID`)	REFERENCES `ESTADO`(`ID`);
ALTER TABLE `PEDIDO_VENTA_ESTADO` ADD CONSTRAINT FOREIGN KEY (`USUARIO_MODIFICO`)	REFERENCES `USUARIO`(`USUARIO_ID`);
ALTER TABLE `PEDIDO_VENTA` ADD CONSTRAINT FOREIGN KEY (`CLIENTE_ID`)	REFERENCES `CLIENTE`(`ID`);
ALTER TABLE `PEDIDO_VENTA` ADD CONSTRAINT FOREIGN KEY (`FORMA_DE_PAGO_ID`)	REFERENCES `FORMA_DE_PAGO`(`ID`);
ALTER TABLE `PEDIDO_VENTA` ADD CONSTRAINT FOREIGN KEY (`USUARIO_ID`)	REFERENCES `USUARIO`(`USUARIO_ID`);
ALTER TABLE `MARCA` ADD CONSTRAINT FOREIGN KEY (`LINEA_ID`)	REFERENCES `LINEA`(`ID`);
ALTER TABLE `MARCA` ADD CONSTRAINT FOREIGN KEY (`EMPRESA_ID`)	REFERENCES `EMPRESA`(`ID`);
ALTER TABLE `ESTADO_DE_CUENTA_CLIENTES` ADD CONSTRAINT FOREIGN KEY (`TIPO_MOVIMIENTO_ID`)	REFERENCES `TIPO_MOVIMIENTO`(`ID`);
ALTER TABLE `ESTADO_DE_CUENTA_CLIENTES` ADD CONSTRAINT FOREIGN KEY (`FACTURA_CLIENTE_ID`)	REFERENCES `FACTURA_CLIENTE`(`ID`);
ALTER TABLE `ALMACEN` ADD CONSTRAINT FOREIGN KEY (`POBLACION_ID`)	REFERENCES `POBLACION`(`ID`);
ALTER TABLE `CLIENTE_CUENTA_BANCARIA` ADD CONSTRAINT FOREIGN KEY (`CLIENTE_ID`)	REFERENCES `CLIENTE`(`ID`);
ALTER TABLE `CLIENTE_CUENTA_BANCARIA` ADD CONSTRAINT FOREIGN KEY (`CUENTA_BANCARIA_ID`)	REFERENCES `CUENTA_BANCARIA`(`ID`);
ALTER TABLE `PEDIDO_VENTA_DETALLE` ADD CONSTRAINT FOREIGN KEY (`PEDIDO_VENTA_ID`)	REFERENCES `PEDIDO_VENTA`(`ID`);
ALTER TABLE `PEDIDO_VENTA_DETALLE` ADD CONSTRAINT FOREIGN KEY (`PRODUCTO_ID`)	REFERENCES `PRODUCTO`(`ID`);
ALTER TABLE `PEDIDO_COMPRA_DETALLE` ADD CONSTRAINT FOREIGN KEY (`PEDIDO_COMPRA_ID`)	REFERENCES `PEDIDO_COMPRA`(`ID`);
ALTER TABLE `PEDIDO_COMPRA_DETALLE` ADD CONSTRAINT FOREIGN KEY (`PRODUCTO_ID`)	REFERENCES `PRODUCTO`(`ID`);
ALTER TABLE `LINEA_MULTIMEDIO` ADD CONSTRAINT FOREIGN KEY (`LINEA_ID`)	REFERENCES `LINEA`(`ID`);
ALTER TABLE `LINEA_MULTIMEDIO` ADD CONSTRAINT FOREIGN KEY (`MULTIMEDIO_ID`)	REFERENCES `MULTIMEDIO`(`ID`);
ALTER TABLE `PRODUCTO_MULTIMEDIO` ADD CONSTRAINT FOREIGN KEY (`PRODUCTO_ID`)	REFERENCES `PRODUCTO`(`ID`);
ALTER TABLE `PRODUCTO_MULTIMEDIO` ADD CONSTRAINT FOREIGN KEY (`MULTIMEDIO_ID`)	REFERENCES `MULTIMEDIO`(`ID`);
ALTER TABLE `MENSAJES_PARA_PORTAL` ADD CONSTRAINT FOREIGN KEY (`USUARIOUSUARIO_ID`)	REFERENCES `USUARIO`(`USUARIO_ID`);
ALTER TABLE `USUARIO_PERFIL` ADD CONSTRAINT FOREIGN KEY (`USUARIO_ID`)	REFERENCES `USUARIO`(`USUARIO_ID`);
ALTER TABLE `USUARIO_PERFIL` ADD CONSTRAINT FOREIGN KEY (`PERFIL_ID`)	REFERENCES `PERFIL`(`ID`);
ALTER TABLE `PROVEEDOR_CONTACTO` ADD CONSTRAINT FOREIGN KEY (`PROVEEDOR_ID`)	REFERENCES `PROVEEDOR`(`ID`);
ALTER TABLE `PROVEEDOR_CONTACTO` ADD CONSTRAINT FOREIGN KEY (`CONTACTO_ID`)	REFERENCES `CONTACTO`(`ID`);
ALTER TABLE `PROVEEDOR_PRODUCTO` ADD CONSTRAINT FOREIGN KEY (`PROVEEDOR_ID`)	REFERENCES `PROVEEDOR`(`ID`);
ALTER TABLE `PROVEEDOR_PRODUCTO` ADD CONSTRAINT FOREIGN KEY (`PRODUCTO_ID`)	REFERENCES `PRODUCTO`(`ID`);
ALTER TABLE `PEDIDO_COMPRA` ADD CONSTRAINT FOREIGN KEY (`PROVEEDOR_ID`)	REFERENCES `PROVEEDOR`(`ID`);
ALTER TABLE `PEDIDO_COMPRA` ADD CONSTRAINT FOREIGN KEY (`FORMA_DE_PAGO_ID`)	REFERENCES `FORMA_DE_PAGO`(`ID`);
ALTER TABLE `PEDIDO_COMPRA` ADD CONSTRAINT FOREIGN KEY (`USUARIO_ID`)	REFERENCES `USUARIO`(`USUARIO_ID`);
ALTER TABLE `ALMACEN_PRODUCTO` ADD CONSTRAINT FOREIGN KEY (`ALMACEN_ID`)	REFERENCES `ALMACEN`(`ID`);
ALTER TABLE `ALMACEN_PRODUCTO` ADD CONSTRAINT FOREIGN KEY (`PRODUCTO_ID`)	REFERENCES `PRODUCTO`(`ID`);
ALTER TABLE `ESTADO_DE_CUENTA_PROVEEDORES` ADD CONSTRAINT FOREIGN KEY (`FACTURA_PROVEEDOR_ID`)	REFERENCES `FACTURA_PROVEEDOR`(`ID`);
ALTER TABLE `ESTADO_DE_CUENTA_PROVEEDORES` ADD CONSTRAINT FOREIGN KEY (`TIPO_MOVIMIENTO_ID`)	REFERENCES `TIPO_MOVIMIENTO`(`ID`);
ALTER TABLE `CONTACTO` ADD CONSTRAINT FOREIGN KEY (`POBLACION_ID`)	REFERENCES `POBLACION`(`ID`);
ALTER TABLE `PROVEEDOR_CUENTA_BANCARIA` ADD CONSTRAINT FOREIGN KEY (`PROVEEDOR_ID`)	REFERENCES `PROVEEDOR`(`ID`);
ALTER TABLE `PROVEEDOR_CUENTA_BANCARIA` ADD CONSTRAINT FOREIGN KEY (`CUENTA_BANCARIA_ID`)	REFERENCES `CUENTA_BANCARIA`(`ID`);
ALTER TABLE `EMPRESA_MULTIMEDIO` ADD CONSTRAINT FOREIGN KEY (`EMPRESA_ID`)	REFERENCES `EMPRESA`(`ID`);
ALTER TABLE `EMPRESA_MULTIMEDIO` ADD CONSTRAINT FOREIGN KEY (`MULTIMEDIO_ID`)	REFERENCES `MULTIMEDIO`(`ID`);
ALTER TABLE `PEDIDO_COMPRA_ESTADO` ADD CONSTRAINT FOREIGN KEY (`PEDIDO_COMPRA_ID`)	REFERENCES `PEDIDO_COMPRA`(`ID`);
ALTER TABLE `PEDIDO_COMPRA_ESTADO` ADD CONSTRAINT FOREIGN KEY (`ESTADO_ID`)	REFERENCES `ESTADO`(`ID`);
ALTER TABLE `PEDIDO_COMPRA_ESTADO` ADD CONSTRAINT FOREIGN KEY (`USUARIO_MODIFICO`)	REFERENCES `USUARIO`(`USUARIO_ID`);
ALTER TABLE `FACTURA_CLIENTE` ADD CONSTRAINT FOREIGN KEY (`PEDIDO_VENTA_ID`)	REFERENCES `PEDIDO_VENTA`(`ID`);
ALTER TABLE `CLIENTE` ADD CONSTRAINT FOREIGN KEY (`POBLACION_ID`)	REFERENCES `POBLACION`(`ID`);
ALTER TABLE `MOVIMIENTO_HISTORICO_PRODUCTO` ADD CONSTRAINT FOREIGN KEY (`ALMACEN_ID`)	REFERENCES `ALMACEN`(`ID`);
ALTER TABLE `MOVIMIENTO_HISTORICO_PRODUCTO` ADD CONSTRAINT FOREIGN KEY (`PRODUCTO_ID`)	REFERENCES `PRODUCTO`(`ID`);
ALTER TABLE `MOVIMIENTO_HISTORICO_PRODUCTO` ADD CONSTRAINT FOREIGN KEY (`TIPO_MOVIMIENTO_ID`)	REFERENCES `TIPO_MOVIMIENTO`(`ID`);
ALTER TABLE `MOVIMIENTO_HISTORICO_PRODUCTO` ADD CONSTRAINT FOREIGN KEY (`USUARIO_ID`)	REFERENCES `USUARIO`(`USUARIO_ID`);
ALTER TABLE `ESTADO_DE_CUENTA` ADD CONSTRAINT FOREIGN KEY (`EGRESO`)	REFERENCES `ESTADO_DE_CUENTA_PROVEEDORES`(`ID`);
ALTER TABLE `ESTADO_DE_CUENTA` ADD CONSTRAINT FOREIGN KEY (`INGRESO`)	REFERENCES `ESTADO_DE_CUENTA_CLIENTES`(`ID`);
ALTER TABLE `ESTADO_DE_CUENTA` ADD CONSTRAINT FOREIGN KEY (`USUARIO_ID`)	REFERENCES `USUARIO`(`USUARIO_ID`);
ALTER TABLE `PROVEEDOR` ADD CONSTRAINT FOREIGN KEY (`POBLACION_ID`)	REFERENCES `POBLACION`(`ID`);
